function eventClicked(){document.getElementById("form-event").classList.add("view-event"),document.getElementById("event-title").classList.replace("d-block","d-none"),document.getElementById("event-category").classList.replace("d-block","d-none"),document.getElementById("btn-save-event").setAttribute("hidden",!0)}function editEvent(e){var t=e.getAttribute("data-id");("new-event"==t?(document.getElementById("modal-title").innerHTML="",document.getElementById("modal-title").innerHTML="Add Event",document.getElementById("btn-save-event").innerHTML="Add Event",eventTyped):"edit-event"==t?(e.innerHTML="Cancel",document.getElementById("btn-save-event").innerHTML="Update Event",e.removeAttribute("hidden"),eventTyped):(e.innerHTML="Edit",eventClicked))()}function eventTyped(){document.getElementById("form-event").classList.remove("view-event"),document.getElementById("event-title").classList.replace("d-none","d-block"),document.getElementById("event-category").classList.replace("d-none","d-block"),document.getElementById("btn-save-event").removeAttribute("hidden")}document.addEventListener("DOMContentLoaded",function(){var d=new bootstrap.Modal(document.getElementById("event-modal"),{keyboard:!1}),t=(document.getElementById("event-modal"),document.getElementById("modal-title")),n=document.getElementById("form-event"),a=null,e=(document.getElementsByClassName("needs-validation"),new Date),l=e.getDate(),i=e.getMonth(),e=e.getFullYear(),o=FullCalendar.Draggable,r=document.getElementById("external-events"),c=[{title:"All Day Event",start:new Date(e,i,1)},{title:"Long Event",start:new Date(e,i,l-5),end:new Date(e,i,l-2),className:"bg-warning"},{id:999,title:"Repeating Event",start:new Date(e,i,l-3,16,0),allDay:!1,className:"bg-info"},{id:999,title:"Repeating Event",start:new Date(e,i,l+4,16,0),allDay:!1,className:"bg-primary"},{title:"Meeting",start:new Date(e,i,l,10,30),allDay:!1,className:"bg-success"},{title:"Lunch",start:new Date(e,i,l,12,0),end:new Date(e,i,l,14,0),allDay:!1,className:"bg-danger"},{title:"Birthday Party",start:new Date(e,i,l+1,19,0),end:new Date(e,i,l+1,22,30),allDay:!1,className:"bg-success"},{title:"Click for Google",start:new Date(e,i,28),end:new Date(e,i,29),url:"http://google.com/",className:"bg-dark"}],l=(new o(r,{itemSelector:".external-event",eventData:function(e){return{id:Math.floor(11e3*Math.random()),title:e.innerText,allDay:!0,start:new Date,className:e.getAttribute("data-class")}}}),document.getElementById("calendar"));function s(e){document.getElementById("form-event").reset(),d.show(),n.classList.remove("was-validated"),n.reset(),a=null,t.innerText="Create Event",newEventData=e}function m(){return 768<=window.innerWidth&&window.innerWidth<1200?"timeGridWeek":window.innerWidth<=768?"listMonth":"dayGridMonth"}var v=new FullCalendar.Calendar(l,{timeZone:"local",editable:!0,droppable:!0,selectable:!0,navLinks:!0,initialView:m(),themeSystem:"bootstrap",headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay,listMonth"},windowResize:function(e){var t=m();v.changeView(t)},eventResize:function(t){var e=c.findIndex(function(e){return e.id==t.event.id});c[e]&&(c[e].title=t.event.title,c[e].className=t.event.classNames[0])},eventClick:function(e){document.getElementById("edit-event-btn").removeAttribute("hidden"),document.getElementById("btn-save-event").setAttribute("hidden",!0),document.getElementById("edit-event-btn").setAttribute("data-id","edit-event"),document.getElementById("edit-event-btn").innerHTML="Edit",eventClicked(),d.show(),n.reset(),a=e.event,document.getElementById("modal-title").innerHTML="",document.getElementById("event-title").value=a.title,document.getElementById("event-category").value=a.className,console.log("selectedEvent",a),document.getElementById("btn-delete-event").removeAttribute("hidden")},dateClick:function(e){document.getElementById("edit-event-btn").setAttribute("hidden",!0),document.getElementById("btn-save-event").removeAttribute("hidden"),s(e)},events:c,eventReceive:function(e){e={id:parseInt(e.event.id),title:e.event.title,className:e.event.classNames[0]};c.push(e)},eventDrop:function(t){var e=c.findIndex(function(e){return e.id==t.event.id});c[e]&&(c[e].title=t.event.title,c[e].className=t.event.classNames[0])}});setTimeout(()=>{v.render()},0),n.addEventListener("submit",function(e){e.preventDefault();var t,e=document.getElementById("event-title").value,n=document.getElementById("event-category").value;a?(t=document.getElementById("eventid").value,a.setProp("id",t),a.setProp("title",e),a.setProp("classNames",[n]),t=c.findIndex(function(e){return e.id==a.id}),c[t]&&(c[t].title=e,c[t].className=n),v.render()):(t={id:(1e4*Math.random()).toFixed(0),title:e,start:new Date(document.querySelector("#calender").value),allDay:!0,className:n},v.addEvent(t),c.push(t)),d.hide()}),document.getElementById("btn-delete-event").addEventListener("click",function(e){if(a){for(var t=0;t<c.length;t++)c[t].id==a.id&&(c.splice(t,1),t--);a.remove(),a=null,d.hide()}}),document.getElementById("btn-new-event").addEventListener("click",function(e){s(),document.getElementById("edit-event-btn").click()})});